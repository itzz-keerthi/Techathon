<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Webpage design</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="main">
            <div class="navbar">
                <div class="icon">
                    <h2 class="logo">Destreza</h2>
                </div>
                <div class="menu">
                    <ul>
                        <li><a href ="#">Home</a></li>
                        <li><a href ="#">About us</a></li>
                        <li><a href ="#">Menu</a></li>
                        <li><a href ="#">Restaurants</a></li>
                        <li><a href ="#">Orders</a></li>
                    </ul>
                </div>
                <div class="search">
                    <input class="srch" type="search" name="" placeholder="Search food">
                    <a href="#"><button class ="btn">Search</button></a>
                </div>
                </div>
                <div class="content">
                    <h1>Just order from us &<br><span>start the day</span> <br>in the best way!</h1>
                    <p class="par" >Are you a foodie?!<br>Eat what you love!This is the most amazing place<br>to order your foods with lot more offers and free delivery...Happy Eating!<br>CHECK OUT TODAY'S OFFERS</p>
                    <button class="cn"><a href="#">CHECK OUT</a></button>
                    <div class="form">
                        <h2>Login Here</h2>
                        <input type="email" id="email" placeholder="Enter Email here">
                        <input type="password" id="password" placeholder="Enter your password">
                        <button class="btnn" id ="signIn"><a href="#">Login</a></button>
                        <p class="link">Don't have an account<br>
                        <a href="#">Sign up </a> here</a></p>
                        <p class="liw">Log in with</p>
                        <div class="icons">
                            <a href="#"><ion-icon name="logo-facebook"></ion-icon></a>
                            <a href="#"><ion-icon name="logo-instagram"></ion-icon></a>
                            <a href="#"><ion-icon name="logo-twitter"></ion-icon></a>
                            <a href="#"><ion-icon name="logo-google"></ion-icon></a>
                            <a href="#"><ion-icon name="logo-skype"></ion-icon></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"> </script>
    </body>
</html>

<script type="module">
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
    
    import {
      getAuth,
      signInWithEmailAndPassword,
      sendPasswordResetEmail
    } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";
    import {
      getDatabase,
      set,
      ref,
      update,
    } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-database.js";
  
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDjToIub_kOd6334ksEabRIUiN_UtPXtTw",
      authDomain: "fir-7d9ee.firebaseapp.com",
      projectId: "fir-7d9ee",
      storageBucket: "fir-7d9ee.appspot.com",
      messagingSenderId: "493771331329",
      appId: "1:493771331329:web:bfc2182cd7cc18ef40ed00",
      measurementId: "G-8B04P7MD0P",
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  
    const auth = getAuth(app);
    const database = getDatabase(app);
  
    //SignIn
    signIn.addEventListener("click", (e) => {
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;
      signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in
          const user = userCredential.user;
          // ...
          var lgDate = new Date();
          update(ref(database, "users/" + user.uid), {
            last_login: lgDate,
          })
            .then(() => {
              // Data saved successfully!
              window.location.replace("welcome.html");
              alert("LoggedIn Successfully");
            })
            .catch((error) => {
              // The write failed...
              alert(error);
            });
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          alert(errorMessage);
        });
    });
    /*
    forgetPassword.addEventListener('click',(e) =>{
    var email = document.getElementById("email").value;
    sendPasswordResetEmail(auth, email)
    .then(() => {
      // Password reset email sent!
      // ..
      alert("Reset Password Mail has been Sent");
    })
    .catch((error) => {
      const errorCode = error.code;
      const errorMessage = error.message;
      // ..
      alert(errorMessage);
    });
    
  });
  */
  </script>